{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../album.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nfunction AlbumsComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"a\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function AlbumsComponent_div_7_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const album_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteAlbum(album_r1));\n    });\n    i0.ɵɵtext(4, \"delete\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const album_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/albums/\", album_r1.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", album_r1.id, \") \", album_r1.title, \" \");\n  }\n}\nexport class AlbumsComponent {\n  constructor(albumService) {\n    this.albumService = albumService;\n    this.albums = [];\n    this.newAlbum = {};\n  }\n  ngOnInit() {\n    this.getAlbums();\n  }\n  getAlbums() {\n    this.albumService.getAlbums().subscribe(albums => {\n      this.albums = albums;\n    });\n  }\n  addAlbum() {\n    this.albumService.addAlbum(this.newAlbum).subscribe(album => {\n      this.albums.push(album);\n      this.newAlbum = {};\n    });\n  }\n  deleteAlbum(album) {\n    this.albumService.deleteAlbum(album).subscribe(album => {\n      const index = this.albums.indexOf(album);\n      if (index > -1) {\n        // this.albums.splice(index,1);\n        this.albums.push(album);\n      }\n    });\n  }\n}\nAlbumsComponent.ɵfac = function AlbumsComponent_Factory(t) {\n  return new (t || AlbumsComponent)(i0.ɵɵdirectiveInject(i1.AlbumService));\n};\nAlbumsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AlbumsComponent,\n  selectors: [[\"app-albums\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\"]],\n  template: function AlbumsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"albums\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"fieldset\")(3, \"textarea\", 0);\n      i0.ɵɵlistener(\"ngModelChange\", function AlbumsComponent_Template_textarea_ngModelChange_3_listener($event) {\n        return ctx.newAlbum.title = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(4, \"br\");\n      i0.ɵɵelementStart(5, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function AlbumsComponent_Template_button_click_5_listener() {\n        return ctx.addAlbum();\n      });\n      i0.ɵɵtext(6, \"Add album\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(7, AlbumsComponent_div_7_Template, 5, 3, \"div\", 2);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.newAlbum.title);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.albums);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i4.RouterLink, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAQAA,2BAAkC;IAE3BA,YACH;IAAAA,iBAAI;IACJA,iCAAqC;IAA7BA;MAAA;MAAA;MAAA;MAAA,OAASA,2CAAkB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAS;;;;IAHjDA,eAAiC;IAAjCA,oEAAiC;IACjCA,eACH;IADGA,kEACH;;;ACFJ,OAAM,MAAOC,eAAe;EAG1BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAC9B,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACC,QAAQ,GAAG,EAAW;EAC7B;EACAC,QAAQ;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EACAA,SAAS;IACP,IAAI,CAACJ,YAAY,CAACI,SAAS,EAAE,CAACC,SAAS,CAAEJ,MAAM,IAAI;MACjD,IAAI,CAACA,MAAM,GAAGA,MAAM;IACtB,CAAC,CAAC;EACJ;EACAK,QAAQ;IACN,IAAI,CAACN,YAAY,CAACM,QAAQ,CAAC,IAAI,CAACJ,QAAQ,CAAC,CAACG,SAAS,CAAEE,KAAK,IAAG;MAC3D,IAAI,CAACN,MAAM,CAACO,IAAI,CAACD,KAAK,CAAC;MACvB,IAAI,CAACL,QAAQ,GAAG,EAAW;IAC7B,CAAC,CAAC;EACJ;EACAO,WAAW,CAACF,KAAW;IACrB,IAAI,CAACP,YAAY,CAACS,WAAW,CAACF,KAAK,CAAC,CAACF,SAAS,CAAEE,KAAK,IAAG;MACtD,MAAMG,KAAK,GAAG,IAAI,CAACT,MAAM,CAACU,OAAO,CAACJ,KAAK,CAAC;MACxC,IAAIG,KAAK,GAAG,CAAC,CAAC,EAAC;QACb;QACA,IAAI,CAACT,MAAM,CAACO,IAAI,CAACD,KAAK,CAAC;;IAEvB,CAAC,CAAC;EACR;;AA7BWT,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT5BnB,0BAAI;MAAAA,sBAAM;MAAAA,iBAAK;MAEfA,gCAAU;MAEIA;QAAA;MAAA,EAA4B;MAACA,iBAAW;MAAAA,qBAAK;MACvDA,iCAA6B;MAArBA;QAAA,OAASoB,cAAU;MAAA,EAAC;MAACpB,yBAAS;MAAAA,iBAAS;MAGnDA,gEAKM;;;MATQA,eAA4B;MAA5BA,4CAA4B;MAInBA,eAAS;MAATA,oCAAS","names":["i0","AlbumsComponent","constructor","albumService","albums","newAlbum","ngOnInit","getAlbums","subscribe","addAlbum","album","push","deleteAlbum","index","indexOf","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ASus\\Desktop\\Новая папка (2)\\Web-Dev\\lab6\\angular-naxzd3\\src\\app\\albums\\albums.component.html","C:\\Users\\ASus\\Desktop\\Новая папка (2)\\Web-Dev\\lab6\\angular-naxzd3\\src\\app\\albums\\albums.component.ts"],"sourcesContent":["<h1>albums</h1>\n\n<fieldset>\n<!--    <input type=\"text\" [(ngModel)]=\"newAlbum.id\"><br/>-->\n    <textarea [(ngModel)]=\"newAlbum.title\"></textarea><br/>\n    <button (click)=\"addAlbum()\">Add album</button>\n</fieldset>\n\n<div *ngFor=\"let album of albums\">\n    <a routerLink=\"/albums/{{album.id}}\">\n       {{album.id}})  {{album.title}}\n    </a>\n    <button (click)=\"deleteAlbum(album)\">delete</button>\n</div>","import { Component, OnInit } from '@angular/core';\nimport {AlbumService} from \"../album.service\";\nimport {album} from \"../products\";\n\n@Component({\n  selector: 'app-albums',\n  templateUrl: './albums.component.html',\n  styleUrls: ['./albums.component.css']\n})\nexport class AlbumsComponent {\n  albums: album[]\n  newAlbum: album\n  constructor(private albumService: AlbumService) {\n    this.albums = [];\n    this.newAlbum = {} as album\n  }\n  ngOnInit():void{\n    this.getAlbums()\n  }\n  getAlbums(){\n    this.albumService.getAlbums().subscribe((albums) =>{\n      this.albums = albums\n    })\n  }\n  addAlbum(){\n    this.albumService.addAlbum(this.newAlbum).subscribe((album)=>{\n      this.albums.push(album)\n      this.newAlbum = {} as album\n    })\n  }\n  deleteAlbum(album:album){\n    this.albumService.deleteAlbum(album).subscribe((album)=>{\n      const index = this.albums.indexOf(album)\n      if (index > -1){\n        // this.albums.splice(index,1);\n        this.albums.push(album);\n      }\n        })\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}